(function(S,s,f,F,e,t,A,w){"use strict";const{FormSection:P,FormRow:p,FormSwitchRow:R,FormText:x,FormInput:k}=s.findByProps("FormSection"),I=()=>e.React.createElement(e.ReactNative.Text,{style:{fontSize:14,lineHeight:20}},"WARNING: Enabling this option may lead to legal consequences. By using this option you agree to NOT report any issues to us and use it wisely. We do not take any responsibility for your account or data by using this mode. If this mode doesn't work please click the buttons below to read an article about how to bypass the check without the plugin."),O=()=>{var a,l,g,y,u;A.useProxy(t.storage);const[o,n]=e.React.useState(""),[c,d]=e.React.useState(!1);(a=t.storage).ageBypass??(a.ageBypass=!1),(l=t.storage).nsfwBypass??(l.nsfwBypass=!0),(g=t.storage).showWarningPopup??(g.showWarningPopup=!0),(y=t.storage).lockNSFWChannels??(y.lockNSFWChannels=!1),(u=t.storage).nsfwPassword??(u.nsfwPassword="");const h=()=>{c?o.length>0&&(t.storage.nsfwPassword=o,n(""),d(!1),console.log("NSFW password set successfully")):d(!0)},E=()=>{n(""),d(!1)},N=r=>{r&&!t.storage.ageBypass?F.showConfirmationAlert({title:"\u26A0\uFE0F Legal Warning",content:e.React.createElement(I),confirmText:"I Understand and Accept",cancelText:"Cancel",onConfirm:()=>{F.showConfirmationAlert({title:"Hang on!",content:e.React.createElement(e.ReactNative.Text,{style:{fontSize:14,lineHeight:20}},"Please confirm you are over 18 years of age and update your settings to see potentially inappropriate and sensitive content."),confirmText:"I'm 18+ and Accept",cancelText:"Cancel",onConfirm:()=>{t.storage.ageBypass=!0}})}}):r||(t.storage.ageBypass=!1)},C=()=>{e.url.openURL("https://github.com/RillonDodgers/Apex-Plugins/tree/master/docs/nsfwbypass")};return e.React.createElement(e.ReactNative.ScrollView,{style:{flex:1}},e.React.createElement(P,{title:"Accessibility Settings"},e.React.createElement(x,{style:{color:"#FFFFFF",marginBottom:16,fontSize:15,fontWeight:"500"}},"Configure accessibility features. Restart app to apply changes."),e.React.createElement(R,{label:"\u{1F31F} Enhanced Visual Accessibility",subLabel:"\u26A0\uFE0F Advanced visual enhancement features - Use with caution",leading:e.React.createElement(p.Icon,{source:s.findByProps("getAssetByName")?.getAssetByName("ic_accessibility")?.id||s.findByProps("getAssetByName")?.getAssetByName("ic_person")?.id}),value:t.storage.ageBypass,onValueChange:N}),e.React.createElement(R,{label:"Enable NSFW Content Bypass",subLabel:"Bypasses all NSFW restrictions and gates completely",leading:e.React.createElement(p.Icon,{source:s.findByProps("getAssetByName")?.getAssetByName("ic_warning")?.id}),value:t.storage.nsfwBypass,onValueChange:r=>{t.storage.nsfwBypass=r}}),e.React.createElement(R,{label:"Show NSFW Channel Warning",subLabel:"Display a warning popup when entering NSFW channels",leading:e.React.createElement(p.Icon,{source:s.findByProps("getAssetByName")?.getAssetByName("ic_alert")?.id}),value:t.storage.showWarningPopup,onValueChange:r=>{t.storage.showWarningPopup=r}}),e.React.createElement(R,{label:"\u{1F512} Lock NSFW Channels",subLabel:t.storage.nsfwPassword?"Password protected NSFW channel access":"Set a password to enable NSFW channel locking",leading:e.React.createElement(p.Icon,{source:s.findByProps("getAssetByName")?.getAssetByName("ic_lock")?.id}),value:t.storage.lockNSFWChannels,onValueChange:r=>{r&&!t.storage.nsfwPassword?d(!0):t.storage.lockNSFWChannels=r}}),e.React.createElement(e.ReactNative.View,{style:{marginHorizontal:16,marginVertical:8}},e.React.createElement(e.ReactNative.TouchableOpacity,{style:{backgroundColor:w.semanticColors.BUTTON_SECONDARY_BACKGROUND,padding:12,borderRadius:8,alignItems:"center",marginBottom:8},onPress:h},e.React.createElement(e.ReactNative.Text,{style:{color:"#FFFFFF",fontSize:14,fontWeight:"500"}},t.storage.nsfwPassword?"Change NSFW Password":"Set NSFW Password"))),c?e.React.createElement(e.ReactNative.View,{style:{marginHorizontal:16,marginBottom:16}},e.React.createElement(k,{title:"NSFW Password",placeholder:"Enter password for NSFW channels",value:o,onChange:n,secureTextEntry:!0}),e.React.createElement(e.ReactNative.View,{style:{flexDirection:"row",gap:8,marginTop:8}},e.React.createElement(e.ReactNative.TouchableOpacity,{style:{backgroundColor:w.semanticColors.BUTTON_POSITIVE_BACKGROUND,padding:8,borderRadius:6,flex:1,alignItems:"center"},onPress:h},e.React.createElement(e.ReactNative.Text,{style:{color:"#FFFFFF",fontSize:12,fontWeight:"bold"}},"Set Password")),e.React.createElement(e.ReactNative.TouchableOpacity,{style:{backgroundColor:w.semanticColors.BUTTON_DANGER_BACKGROUND,padding:8,borderRadius:6,flex:1,alignItems:"center"},onPress:E},e.React.createElement(e.ReactNative.Text,{style:{color:"#FFFFFF",fontSize:12,fontWeight:"bold"}},"Cancel")))):null),e.React.createElement(P,{title:"Documentation"},e.React.createElement(e.ReactNative.TouchableOpacity,{style:{backgroundColor:w.semanticColors.BACKGROUND_SECONDARY,padding:16,margin:16,borderRadius:8,alignItems:"center"},onPress:C},e.React.createElement(e.ReactNative.Text,{style:{color:"#FFFFFF",fontSize:16,fontWeight:"500"}},"\u{1F4D6} Note"),e.React.createElement(e.ReactNative.Text,{style:{color:"#FFFFFF",fontSize:12,marginTop:4}},"Read documentation and alternative bypass methods. Please note this plugin was tested on 290+. We won't support any versions below 290 as stated in Vencore docs (click here to read more)."))))},{Text:B}=s.findByProps("Button","Text","View");s.findByProps("FormSection");const b=s.findByProps("isNSFWInvite"),W=s.findByStoreName("UserStore"),{getChannel:v}=s.findByProps("getChannel")||s.findByName("getChannel",!1);let i=[];function U(a){return typeof a=="string"?v(a)?.nsfw===!0:a?.nsfw===!0}function V(){return e.React.createElement(B,{},"This channel contains content that may not be suitable for all audiences. Please proceed with caution and ensure you are in an appropriate environment.")}const _=a=>{const l=[97,103,101,86,101,114,105,102,105,99,97,116,105,111,110,83,116,97,116,117,115].map(u=>String.fromCharCode(u)).join(""),g=[51],y=parseInt(String.fromCharCode(...g));return a&&a.hasOwnProperty(l)&&(a[l]=y),a};var D={onLoad:()=>{var a,l,g,y,u;if((a=t.storage).ageBypass??(a.ageBypass=!1),(l=t.storage).nsfwBypass??(l.nsfwBypass=!0),(g=t.storage).showWarningPopup??(g.showWarningPopup=!0),(y=t.storage).lockNSFWChannels??(y.lockNSFWChannels=!1),(u=t.storage).nsfwPassword??(u.nsfwPassword=""),t.storage.nsfwBypass&&(i.push(f.instead("handleNSFWGuildInvite",b,()=>!1)),i.push(f.instead("isNSFWInvite",b,()=>!1)),i.push(f.instead("shouldNSFWGateGuild",b,()=>!1)),i.push(f.after("getCurrentUser",W,(o,n)=>(n?.hasOwnProperty("nsfwAllowed")&&(n.nsfwAllowed=!0),n)))),t.storage.ageBypass&&i.push(f.after("getCurrentUser",W,(o,n)=>_(n))),t.storage.showWarningPopup){const o=s.findByProps("transitionToGuild");if(o)for(const n of Object.keys(o))typeof o[n]=="function"&&i.push(f.instead(n,o,(c,d)=>{if(typeof c[0]=="string"){const h=c[0].match(/(\d+)$/);if(h?.[1]){const E=h[1],N=v(E);if(N&&U(N))if(t.storage.lockNSFWChannels&&t.storage.nsfwPassword){let C="";const r=()=>{const[T,G]=e.React.useState("");return C=T,e.React.createElement(e.ReactNative.View,{},e.React.createElement(B,{style:{marginBottom:8,color:"#FFFFFF"}},"Enter your access code to enter NSRW channel."),e.React.createElement(e.ReactNative.TextInput,{placeholder:"Enter password",placeholderTextColor:"#AAAAAA",secureTextEntry:!0,style:{borderWidth:1,borderColor:"#FFFFFF",borderRadius:4,padding:8,marginTop:8,color:"#FFFFFF",backgroundColor:"rgba(255,255,255,0.1)"},onChangeText:G,value:T,autoFocus:!0}))};return F.showConfirmationAlert({title:"\u{1F512} NSFW Channel Locked",content:e.React.createElement(r),confirmText:"Unlock",cancelText:"Cancel",onConfirm:()=>{if(C===t.storage.nsfwPassword)return d(...c);F.showConfirmationAlert({title:"\u274C Incorrect Password",content:e.React.createElement(B,{style:{color:"#FFFFFF"}},"The password you entered is incorrect. Please try again."),confirmText:"OK"})}}),{}}else return F.showConfirmationAlert({title:"WARNING: Entering NSFW channel",content:e.React.createElement(V),confirmText:"Proceed with Caution",cancelText:"Cancel",onConfirm:()=>d(...c)}),{}}}return d(...c)}))}},onUnload:()=>{for(const a of i)a();i=[]},settings:O};return S.default=D,Object.defineProperty(S,"__esModule",{value:!0}),S})({},vendetta.metro,vendetta.patcher,vendetta.ui.alerts,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui);
