(function(g,o,d,p,l,f){"use strict";const{FormSection:b,FormRow:n,FormText:c}=f.Forms;function w(){return l.React.createElement(b,{title:"\u{1F3B5} Rickroll Plugin Settings"},l.React.createElement(n,{label:"How to use",trailing:n.Arrow},l.React.createElement(c,null,'Type "/rick" or "/rickroll" in any channel! Your message becomes rickroll text and YOU hear the sound locally.')),l.React.createElement(n,{label:"Features",trailing:n.Arrow},l.React.createElement(c,null,`\u2022 Plays audio locally (only you hear it)
\u2022 Replaces your message with rickroll text
\u2022 Works in any Discord channel
\u2022 Multiple backup audio sources
\u2022 Fallback beep sound if audio fails`)),l.React.createElement(n,{label:"Pro Tips",trailing:n.Arrow},l.React.createElement(c,null,`\u2022 Use "/rick" for a quick rickroll
\u2022 Perfect for pranking friends
\u2022 The element of surprise is key!
\u2022 Great for lightening the mood
\u2022 Rick Astley would be proud \u{1F57A}`)),l.React.createElement(n,{label:"Warning",trailing:n.Arrow},l.React.createElement(c,{style:{color:"#ff6b6b"}},"Use responsibly! Don't spam rickrolls or your friends might get annoyed. Remember: with great power comes great ricksponsibility! \u{1F3B5}")))}let a;const y=["https://files.catbox.moe/pbtj68.mp3","https://audio.jukehost.co.uk/tFkLhbRaHjQGx7UHwsQMEe3eTfQNK5H4","https://www.soundjay.com/misc/sounds/bell-ringing-05.wav"],k=()=>{try{const e=new Audio;let r=0;const i=()=>{if(r>=y.length){o.logger.log("All rickroll URLs failed, playing local beep");const t=new(window.AudioContext||window.webkitAudioContext),s=t.createOscillator(),u=t.createGain();s.connect(u),u.connect(t.destination),s.frequency.value=800,s.type="sine",u.gain.setValueAtTime(.3,t.currentTime),u.gain.exponentialRampToValueAtTime(.01,t.currentTime+1),s.start(t.currentTime),s.stop(t.currentTime+1);return}e.src=y[r],e.volume=.7,e.play().catch(()=>{r++,i()})};e.addEventListener("error",()=>{r++,i()}),i(),o.logger.log("\u{1F3B5} Never gonna give you up! \u{1F3B5}")}catch(e){o.logger.log("Failed to rickroll:",e)}},m=e=>{const r=e.content?.toLowerCase()||"";return r.includes("/rick")||r.includes("/rickroll")};var h={onLoad:()=>{o.logger.log("\u{1F3B5} Rickroll Plugin Loaded! Type /rick to rickroll! \u{1F3B5}");try{const e=d.findByStoreName("MessageActions");if(e&&e.sendMessage)a=p.before("sendMessage",e,r=>{const[i,t]=r;m(t)&&(setTimeout(()=>{k()},100),t.content=`\u{1F3B5} **RICKROLLED!** \u{1F3B5}
*Never gonna give you up, never gonna let you down!* \u{1F57A}\u{1F483}

*(You just got rickrolled by yourself!)*`,o.logger.log("Rickroll activated! \u{1F3B5}"))}),o.logger.log("Successfully patched MessageActions for rickroll detection!");else{o.logger.log("Could not find MessageActions - trying alternative approach...");const r=d.findByStoreName("MessageStore");r&&(a=p.before("dispatch",r,i=>{const[t]=i;t.type==="MESSAGE_CREATE"&&t.message&&m(t.message)&&setTimeout(()=>{k()},100)}))}}catch(e){o.logger.log("Error setting up rickroll plugin:",e)}},onUnload:()=>{o.logger.log("\u{1F3B5} Rickroll Plugin Unloaded - No more rickrolls! \u{1F3B5}"),a&&(a(),a=null)},settings:w};return g.default=h,Object.defineProperty(g,"__esModule",{value:!0}),g})({},vendetta,vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui.components);
